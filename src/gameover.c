#include "gameover.h"
#include "graphics.h"

static const char letters[26][7][5] = {

/* A */
{
    {0,1,1,1,0},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,1,1,1,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1}
},

/* B */
{
    {1,1,1,1,0},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,1,1,1,0},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,1,1,1,0}
},

/* C */
{
    {0,1,1,1,1},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {0,1,1,1,1}
},

/* D */
{
    {1,1,1,0,0},
    {1,0,0,1,0},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,1,0},
    {1,1,1,0,0}
},

/* E */
{
    {2,2,1,1,1},
    {2,0,0,0,0},
    {2,0,0,0,0},
    {2,2,1,1,0},
    {2,0,0,0,0},
    {1,0,0,0,0},
    {1,1,1,1,1}
},

/* F */
{
    {1,1,1,1,1},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,1,1,1,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0}
},

/* G */
{
    {0,2,2,1,1},
    {2,0,0,0,0},
    {2,0,0,0,0},
    {2,0,1,1,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {0,1,1,1,1}
},

/* H */
{
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,1,1,1,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1}
},

/* I */
{
    {1,1,1,1,1},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {1,1,1,1,1}
},

/* J */
{
    {0,0,0,0,1},
    {0,0,0,0,1},
    {0,0,0,0,1},
    {0,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {0,1,1,1,0}
},

/* K */
{
    {1,0,0,0,1},
    {1,0,0,1,0},
    {1,0,1,0,0},
    {1,1,0,0,0},
    {1,0,1,0,0},
    {1,0,0,1,0},
    {1,0,0,0,1}
},

/* L */
{
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,1,1,1,1}
},

/* M */
{
    {2,0,0,0,1},
    {2,2,0,1,1},
    {2,0,2,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1}
},

/* N */
{
    {1,0,0,0,1},
    {1,1,0,0,1},
    {1,0,1,0,1},
    {1,0,0,1,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1}
},

/* O */
{
    {0,2,1,1,0},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {0,2,2,1,0}
},

/* P */
{
    {1,1,1,1,0},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,1,1,1,0},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {1,0,0,0,0}
},

/* Q */
{
    {0,1,1,1,0},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,1,0,1},
    {1,0,0,1,0},
    {0,1,1,0,1}
},

/* R */
{
    {2,2,1,1,0},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,1,1,1,0},
    {2,0,1,0,0},
    {2,0,0,1,0},
    {2,0,0,0,1}
},

/* S */
{
    {0,1,1,1,1},
    {1,0,0,0,0},
    {1,0,0,0,0},
    {0,1,1,1,0},
    {0,0,0,0,1},
    {0,0,0,0,1},
    {1,1,1,1,0}
},

/* T */
{
    {1,1,1,1,1},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0}
},

/* U */
{
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,0,0,1},
    {0,1,1,1,0}
},

/* V */
{
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {2,0,0,0,1},
    {0,2,0,1,0},
    {0,2,0,1,0},
    {0,0,2,0,0}
},

/* W */
{
    {1,0,0,0,1},
    {1,0,0,0,1},
    {1,0,1,0,1},
    {1,0,1,0,1},
    {1,0,1,0,1},
    {1,1,0,1,1},
    {1,0,0,0,1}
},

/* X */
{
    {1,0,0,0,1},
    {0,1,0,1,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,1,0,1,0},
    {1,0,0,0,1},
    {1,0,0,0,1}
},

/* Y */
{
    {1,0,0,0,1},
    {0,1,0,1,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0},
    {0,0,1,0,0}
},

/* Z */
{
    {1,1,1,1,1},
    {0,0,0,0,1},
    {0,0,0,1,0},
    {0,0,1,0,0},
    {0,1,0,0,0},
    {1,0,0,0,0},
    {1,1,1,1,1}
}

};


void drawLetter(char letter, int x0, int y0, unsigned char color, unsigned char color2) {
    if (letter < 'A' || letter > 'Z') return; // Endast stora bokstäver A-Z

    int index = letter - 'A';
    for (int dy = 0; dy < 7; dy++) {
        for (int dx = 0; dx < 5; dx++) {
            int v = letters[index][dy][dx];
            if (v == 1) {
                putPixel(x0 + dx, y0 + dy, color);
            } else if (v == 2) {
                putPixel(x0 + dx, y0 + dy, color2);
            }
        }
    }
}

void drawGameOverScreen() {
    clearScreen(0); // svart

    int x = 40;
    int y = 30;

    // GAME
    drawLetter('G',     x,       y,       14,4);
    drawLetter('A',     x+12,    y,       14,4);
    drawLetter('M',     x+24,    y,       14,4);
    drawLetter('E',     x+36,    y,       14,4);

    // OVER

    drawLetter('O',     x,        y+20,    12,4);
    drawLetter('V',     x+12,     y+20,    12,4);
    drawLetter('E',     x+24,     y+20,    12,4);
    drawLetter('R',     x+36,     y+20,    12,4);
}
void drawTheWinner(){
    int winnerY = 75; // start y för vinnaren, under "OVER"
    int winnerX = 50;       // start x, justera efter smak
    //Om vänster vinner
    if (leftScore.value > rightScore.value){
        //LEFT
        drawLetter('L',winnerX+6,winnerY,14, 4);
        drawLetter('E',winnerX+12,winnerY,14, 4);
        drawLetter('F',winnerX+18,winnerY,14, 4);   
        drawLetter('T',winnerX+24,winnerY,14, 4);

        //WINS
        drawLetter('W',winnerX+36,winnerY,14, 4);
        drawLetter('I',winnerX+42,winnerY,14, 4);
        drawLetter('N',winnerX+48,winnerY,14, 4);
        drawLetter('S',winnerX+56,winnerY,14, 4);  
    }
    else if(rightScore.value > leftScore.value){
        //RIGHT
        drawLetter('R',winnerX +6,winnerY,14, 4);
        drawLetter('I',winnerX+12,winnerY,14, 4);
        drawLetter('G',winnerX +18,winnerY,14, 4);
        drawLetter('H',winnerX +24,winnerY,14, 4); 
        drawLetter('T',winnerX +30,winnerY,14, 4);

        //WINS
        drawLetter('W',winnerX+36,winnerY,14, 4);
        drawLetter('I',winnerX+42,winnerY,14, 4);
        drawLetter('N',winnerX+48,winnerY,14, 4);
        drawLetter('S',winnerX+56,winnerY,14, 4);   
    }
    else{
        //DRAW
        drawLetter('D',winnerX+6,winnerY,14, 4);
        drawLetter('R',winnerX+12,winnerY,14, 4);
        drawLetter('A',winnerX+18,winnerY,14, 4);   
        drawLetter('W',winnerX+24,winnerY,14, 4);
    }
}
